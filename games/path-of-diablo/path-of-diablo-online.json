{
  "id": 93232,
  "game_slug": "path-of-diablo",
  "name": "Path of Diablo",
  "year": 2015,
  "user": "dblblaster",
  "runner": "wine",
  "slug": "path-of-diablo-online",
  "version": "Online",
  "description": "Requires Diablo II: Lord of Destruction",
  "notes": "This will install Path of Diablo on top of Diablo II: Lord of Destruction. It requires the original game to be already installed by lutris but it will install in a new prefix and it will NOT touch original game files - PoD will live in its own folder.\r\n\r\n1. Diablo II: Lord of Destruction installation must be present. Symbolic links that point to original game files will be created inside a new wine prefix created for Path of Diablo.\r\n2. Path of Diablo installer will require you to manually select path of the original game, just point it to \"C:\\Program Files\\Diablo II\"\r\n3. When installation completes, launcher will download additional files and update the modded game to latest version\r\n4. Upon first launch, click the cogwheel button next to \"-3dfx\" option and check:\r\n  - captured mouse\r\n  - keep aspect ratio\r\n  - desktopresolution\r\n\r\nInstaller is automating installation steps described here: https://pathofdiablo.com/wiki/index.php?title=Linux\r\nNote: PoD ships with a custom glide3x.dll (upstream source: https://www.svenswrapper.de/english/whatis.html) and the modded game has been tailored to work with it. The modded game is NOT compatible with direct3d or dgvoodo2.",
  "created_at": "2022-10-18T17:44:15.698194Z",
  "draft": true,
  "published": false,
  "rating": "",
  "steamid": null,
  "gogid": null,
  "gogslug": "",
  "humblestoreid": "",
  "script": {
    "files": [
      {
        "podinstaller": "https://pathofdiablo.com/pathofdiablolauncher.msi"
      }
    ],
    "game": {
      "arch": "win32",
      "exe": "$GAMEDIR/$podpath/Path of Diablo/Path of Diablo Launcher.exe",
      "prefix": "$GAMEDIR"
    },
    "installer": [
      {
        "merge": {
          "dst": "$CACHE/podinstaller",
          "src": "podinstaller"
        }
      },
      {
        "execute": {
          "command": "echo \"[INFO] Verifying pathofdiablolauncher.msi sha256 checksum...\"; afunc() { [ $(sha256sum \"$podinstaller\" | cut -c 1-64) = $podinstaller_sha256 ]; }; afunc;"
        }
      },
      {
        "execute": {
          "command": "echo \"[INFO] pathofdiablolauncher.msi checksum OK\""
        }
      },
      {
        "execute": {
          "command": "mkdir -p \"$GAMEDIR/$podpath\""
        }
      },
      {
        "execute": {
          "command": "echo \"[INFO] Looking for Diablo II: Lord of Destruction installation in \"$(cd \"$GAMEDIR/..\" && pwd)/diablo-ii-lord-of-destruction ..."
        }
      },
      {
        "execute": {
          "command": "echo \"[INFO] Found $GAMEDIR/$d2path, proceeding with Path of Diablo installation...\""
        }
      },
      {
        "execute": {
          "command": "if [ -d \"$GAMEDIR/$d2path32\" ]; then d2path=\"$d2path32\"; fi; if [ -d \"$GAMEDIR/$d2path64\" ]; then d2path=\"$d2path64\"; fi; if [ -z \"$d2path\" ]; then false; else ln -sr -t \"$GAMEDIR/$podpath/\" \"$GAMEDIR/$d2path\"/{*.mpq,Game.exe,D2.LNG}; fi;"
        }
      },
      {
        "task": {
          "arch": "win32",
          "install_gecko": false,
          "install_mono": false,
          "name": "create_prefix",
          "prefix": "$GAMEDIR"
        }
      },
      {
        "task": {
          "app": "dotnet40",
          "name": "winetricks",
          "silent": true
        }
      },
      {
        "task": {
          "arch": "win32",
          "executable": "podinstaller",
          "name": "wineexec",
          "prefix": "$GAMEDIR"
        }
      }
    ],
    "variables": {
      "d2path32": "../diablo-ii-lord-of-destruction/drive_c/Program Files/Diablo II",
      "d2path64": "../diablo-ii-lord-of-destruction/drive_c/Program Files (x86)/Diablo II",
      "podinstaller_sha256": "5ae13a26dea0507c8aff7da53992e86bd76956f8983d0bc71198d9eb98ea475a",
      "podpath": "drive_c/Program Files/Diablo II"
    }
  },
  "content": "files:\n- podinstaller: https://pathofdiablo.com/pathofdiablolauncher.msi\ngame:\n  arch: win32\n  exe: $GAMEDIR/$podpath/Path of Diablo/Path of Diablo Launcher.exe\n  prefix: $GAMEDIR\ninstaller:\n- merge:\n    dst: $CACHE/podinstaller\n    src: podinstaller\n- execute:\n    command: echo \"[INFO] Verifying pathofdiablolauncher.msi sha256 checksum...\";\n      afunc() { [ $(sha256sum \"$podinstaller\" | cut -c 1-64) = $podinstaller_sha256\n      ]; }; afunc;\n- execute:\n    command: echo \"[INFO] pathofdiablolauncher.msi checksum OK\"\n- execute:\n    command: mkdir -p \"$GAMEDIR/$podpath\"\n- execute:\n    command: 'echo \"[INFO] Looking for Diablo II: Lord of Destruction installation\n      in \"$(cd \"$GAMEDIR/..\" && pwd)/diablo-ii-lord-of-destruction ...'\n- execute:\n    command: echo \"[INFO] Found $GAMEDIR/$d2path, proceeding with Path of Diablo installation...\"\n- execute:\n    command: if [ -d \"$GAMEDIR/$d2path32\" ]; then d2path=\"$d2path32\"; fi; if [ -d\n      \"$GAMEDIR/$d2path64\" ]; then d2path=\"$d2path64\"; fi; if [ -z \"$d2path\" ]; then\n      false; else ln -sr -t \"$GAMEDIR/$podpath/\" \"$GAMEDIR/$d2path\"/{*.mpq,Game.exe,D2.LNG};\n      fi;\n- task:\n    arch: win32\n    install_gecko: false\n    install_mono: false\n    name: create_prefix\n    prefix: $GAMEDIR\n- task:\n    app: dotnet40\n    name: winetricks\n    silent: true\n- task:\n    arch: win32\n    executable: podinstaller\n    name: wineexec\n    prefix: $GAMEDIR\nvariables:\n  d2path32: ../diablo-ii-lord-of-destruction/drive_c/Program Files/Diablo II\n  d2path64: ../diablo-ii-lord-of-destruction/drive_c/Program Files (x86)/Diablo II\n  podinstaller_sha256: 5ae13a26dea0507c8aff7da53992e86bd76956f8983d0bc71198d9eb98ea475a\n  podpath: drive_c/Program Files/Diablo II\n",
  "reason": "",
  "review": "",
  "comment": "[draft] path-of-diablo-online by dblblaster on 2022-10-18 17:44:15.698265+00:00",
  "installer_id": 35680,
  "revision_id": 93106
}
